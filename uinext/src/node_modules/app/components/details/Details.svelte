<script>
	import {_screen} from '@svizzle/ui/src/sensors/screen/ScreenSensor.svelte';

	import VirtualList from 'app/components/VirtualList/VirtualList.svelte';

	import DetailCard from './DetailCard.svelte';

	export let items = [];
	export let minScore = 60;

	let virtualList;

	const refreshList = () => virtualList?.refreshAction();

	$: $_screen && refreshList();
</script>

<div>
	<VirtualList
		bind:this={virtualList}
		{items}
		let:item
	>
		<div>
			<DetailCard
				{item}
				{minScore}
				on:foldingToggled={refreshList}
			/>
		</div>
	</VirtualList>
</div>

<style>
	div {
		height: 100%;
		overflow: auto;
	}
</style>
