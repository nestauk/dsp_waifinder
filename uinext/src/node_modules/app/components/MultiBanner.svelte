<script>
	import Banner from './Banner.svelte';

	export let _screen;
	export let components;
	export let currentIndex;

	let isActive = false;

	function init () {
		currentIndex = 0;
		isActive = true;
	}

	function next () {
		currentIndex++;
		if (currentIndex >= components.length) {
			isActive = false;
		}
	}

	$: components?.length > 0 && init();
</script>

{#if isActive}
	<Banner
		{_screen}
		on:close={next}
	>
		<div slot='body'>
			<svelte:component
				this={components?.[currentIndex]}
			/>
		</div>
		<div slot='footer'>
			Click on background to dismiss
		</div>
	</Banner>
{/if}

<style>
	div {
		padding: 1.0em;
	}
	.footer {
		padding-top: 0;
	}
</style>