<script>
	import Link from '@svizzle/ui/src/Link.svelte';
	import Icon from '@svizzle/ui/src/icons/Icon.svelte';
	import LinkIcon from '@svizzle/ui/src/icons/feather/Link.svelte';

	export let organization;

	$: postCode = organization?.address?.postcode;
	$: place = organization?.add_resize_listener?.place;
	$: address = postCode + (place ? ` - ${place}` : '');
</script>

<div>
	<p>
		<strong>{organization?.name || ''}</strong>
		{#if organization?.url}
			<Link
				href={organization.url}
				target='_blank'
			>
				<Icon
					glyph={LinkIcon}
					size={20}
				/>
			</Link>
		{/if}
	</p>
	<p class='description'>{organization?.description || ''}</p>
	<p>{address}</p>
</div>

<style>
	div {
		padding: 0.5em;
	}
	.description {
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
</style>
