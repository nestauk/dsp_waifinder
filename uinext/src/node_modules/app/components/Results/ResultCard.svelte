<script>
	import Link from '@svizzle/ui/src/Link.svelte';
	import Icon from '@svizzle/ui/src/icons/Icon.svelte';
	import LinkIcon from '@svizzle/ui/src/icons/feather/Link.svelte';

	export let organization;

	$: postCode = organization?.address?.postcode;
	$: place = organization?.address?.place || null;
	$: address = postCode + (place ? ` - ${place}` : '');
</script>

<div>
	<p>
		<strong>{organization?.name || ''}</strong>
		{#if organization?.url}
			<Link
				href={organization.url}
				target='_blank'
			>
				<Icon
					glyph={LinkIcon}
					size={20}
				/>
			</Link>
		{/if}
	</p>
	<p class='description'>{organization?.description || ''}</p>
	<p>{address}</p>
</div>

<style>
	div {
		padding: 0.5em;
	}
	.description {
		/* these -webkit properties also
		   work like this in Firefox and Edge.
		   Should test on Safari.
		*/
		-webkit-box-orient: vertical;
		-webkit-line-clamp: 3;
		display: -webkit-box;
		overflow: hidden;
		text-overflow: ellipsis;
	}
</style>
