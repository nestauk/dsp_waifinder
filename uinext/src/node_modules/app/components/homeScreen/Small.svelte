<script>
	import MapWrapper from 'app/components/Map/MapWrapper.svelte';
	import ViewSelector from 'app/components/ViewSelector.svelte';
	import Stub from 'app/components/Stub.svelte';
	import ViewsSlider from 'app/components/ViewPorts/ViewsSlider.svelte'
	import View from 'app/components/ViewPorts/View.svelte'

	let currentViewId = 'map';

	const showView = view => currentViewId = view;
</script>

<div class='mainlayout'>
	<div>
		<ViewsSlider {currentViewId}>
			<View id='sidebar'>
				<Stub color='red' />
			</View>
			<View id='map'>
				<MapWrapper/>
			</View>
			<View id='results'>
				<Stub color='blue' />
			</View>
		</ViewsSlider>
	</div>
	<div>
		<ViewSelector {showView}/>
	</div>
</div>

<style>
	.mainlayout {
		display: grid;
		grid-auto-flow: row;
		grid-template-rows: 1fr min-content;
		height: 100%;
	}
</style>