<script>
	import MapWrapper from 'app/components/Map/MapWrapper.svelte';
	import Stub from 'app/components/Stub.svelte';
	import Results from 'app/components/Results/Results.svelte';
	import View from 'app/components/ViewPorts/View.svelte'
	import ViewSelector from 'app/components/ViewSelector.svelte';
	import ViewsSlider from 'app/components/ViewPorts/ViewsSlider.svelte'

	let viewId = 'map';

	export let organizations = [];

	const showView = id => viewId = id;
</script>

<div class='mainlayout'>
	<div class='container'>
		<ViewsSlider {viewId}>
			<View id='sidebar'>
				<Stub color='red' />
			</View>
			<View id='map'>
				<MapWrapper/>
			</View>
			<View id='results'>
				<Results {organizations} />
			</View>
		</ViewsSlider>
	</div>
	<div>
		<ViewSelector {showView}/>
	</div>
</div>

<style>
	.mainlayout {
		display: grid;
		grid-auto-flow: row;
		grid-template-rows: 1fr min-content;
		height: 100%;
	}
	.container {
		height: 100%;
		overflow: hidden;
	}
</style>