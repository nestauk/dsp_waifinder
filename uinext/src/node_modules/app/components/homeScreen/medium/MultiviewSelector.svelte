<script>
	import Icon from '@svizzle/ui/src/icons/Icon.svelte';
	import List from '@svizzle/ui/src/icons/feather/List.svelte';
	import Tag from '@svizzle/ui/src/icons/feather/Tag.svelte';
	import {noop} from '@svizzle/utils';

	import City from 'app/components/icons/City.svelte';
	import Region from 'app/components/icons/Region.svelte';

	export let setView = noop;
	export let activeViewId;

	const getColor = (viewId, activeView) => viewId === activeView
		? 'white' : 'black';
</script>

<nav class='MultiviewSelector'>
	<!-- details -->
	<div
		class='button'
		class:active={'details' === activeViewId}
		on:click={setView('details')}
	>
		<span>Details</span>
		<Icon
			glyph={List}
			stroke={getColor('details', activeViewId)}
		/>
	</div>

	<!-- by topic -->
	<div
		class='button'
		class:active={'bytopic' === activeViewId}
		on:click={setView('bytopic')}
	>
		<span>By topic</span>
		<span>
			<Icon
				glyph={Tag}
				stroke={getColor('bytopic', activeViewId)}
			/>
		</span>
	</div>

	<!-- by place -->
	<div
		class='button'
		class:active={'byplace' === activeViewId}
		on:click={setView('byplace')}
	>
		<span>By place</span>
		<span>
			<Icon
				fill={getColor('byplace', activeViewId)}
				glyph={City}
				stroke='none'
			/>
		</span>
	</div>

	<!-- by region -->
	<div
		class='button'
		class:active={'byregion' === activeViewId}
		on:click={setView('byregion')}
	>
		<span>By region</span>
		<span>
			<Icon
				glyph={Region}
				stroke={getColor('byregion', activeViewId)}
				strokeWidth=1.25
			/>
		</span>
	</div>
</nav>

<style>
	.MultiviewSelector {
		background-color: white;
		display: grid;
		grid-template-columns: 1fr 1fr 1fr 1fr;
		grid-template-rows: 100%;
		height: 100%;
		width: 100%;
	}
	.active {
		background: var(--color-selected);
		color: white;
	}

	.button {
		height: 100%;
		width: 100%;
		padding: 0.5em 0;
		border: 1px solid lightgrey; /* FIXME temp solution */
		align-items: center;
		cursor: pointer;
		display: flex;
		justify-content: center;
	}
	/* .rotated {
		transform: scaleX(-1) rotate(-90deg);
	} */

	span {
		margin-right: 1em;
	}
</style>
