<script>
	const {sin, cos, abs, PI} = Math;

	export let cx = 0;
	export let cy = 0;
	export let r = 1;
	export let angleStart = 0;
	export let angleSpan = 2*PI;
	export let fill = 'black';

	let angleEnd
	let isMoreThanPi
	let sweepFlag
	$: {
		angleStart %= 2 * PI;
		angleEnd = angleStart + angleSpan;
		isMoreThanPi = abs(angleSpan) > PI && abs(angleSpan) < (2 * PI)
			? 1 : 0;
		sweepFlag = angleSpan === abs(angleSpan)  ? 1 : 0;
	}
	$: x0 = cx + cos(angleStart) * r;
	$: y0 = cy + sin(angleStart) * r;
	$: x1 = cx + cos(angleEnd) * r;
	$: y1 = cy + sin(angleEnd) * r;
</script>

{#if angleSpan === 2 * PI}
	<circle {cx} {cy} {r} {fill} />
{:else}
	<path
		d='M {x0} {y0}
			A {r}, {r}, 0, {isMoreThanPi}, {sweepFlag}, {x1} {y1}
			L {cx} {cy} Z'
		{fill}
	/>
{/if}
