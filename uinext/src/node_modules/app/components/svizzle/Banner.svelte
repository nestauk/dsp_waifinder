<script>
	import {createEventDispatcher} from 'svelte';

	export let _screen;
	export let isWide = false;
	export let hasBackground = true;

	const dispatch = createEventDispatcher();
	const close = () => dispatch('close');
</script>

<div
	aria-label="Banner"
	class='Banner clickable {$_screen?.classes}'
	class:bkg={hasBackground}
	on:click={close}
	role='alert'
>
	<div
		class:narrow={!isWide}
		class='inner'
		on:click|stopPropagation
	>
		<slot />
	</div>
</div>

<style>
	.Banner {
		box-shadow: var(--box-shadow-xy);
		height: 100%;
		left: 0;
		position: absolute;
		top: 0;
		user-select: none;
		width: 100%;
		z-index: var(--z-2000);
	}
	.Banner.bkg {
		background-color: rgba(0, 0, 0, 0.25);
	}
	.inner {
		background: white;
		border: thin solid var(--color-grey-70);
		border-radius: 1rem;
		box-shadow: var(--box-shadow-xy);
		cursor: initial;
		display: grid;
		grid-template-rows: 1fr;
		left: 50%;
		max-height: 90%;
		padding: 0.5rem;
		position: absolute;
		overflow: auto;
		top: 50%;
		transform: translate(-50%, -50%);
		width: 90%;
	}
	.medium .inner {
		min-width: 50%;
	}

	.medium .narrow {
		width: min-content;
	}
</style>
