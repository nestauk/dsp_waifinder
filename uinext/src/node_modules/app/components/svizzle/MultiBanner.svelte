<script>
	import Banner from './Banner.svelte';
	import LayoutMF from './LayoutMF.svelte';

	export let _screen;
	export let components;
	export let currentIndex;
	export let footerText = '';

	let isActive = false;

	function init () {
		currentIndex = 0;
		isActive = true;
	}

	function next () {
		currentIndex++;
		if (currentIndex >= components.length) {
			isActive = false;
		}
	}

	$: components?.length > 0 && init();
</script>

{#if isActive}
	<Banner
		{_screen}
		on:close={next}
	>
		<LayoutMF>
			<div slot='main'>
				<svelte:component
					this={components?.[currentIndex]}
				/>
			</div>
			<p slot='footer'>{footerText}</p>
		</LayoutMF>
	</Banner>
{/if}

<style>
	div {
		padding: 1.0em;
	}
</style>
