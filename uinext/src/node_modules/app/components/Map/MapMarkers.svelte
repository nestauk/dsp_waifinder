<script>
	import mapboxgl from "mapbox-gl";
	import MapboxglUnsupported from './MapboxglUnsupported.svelte';
	import Map from './Map.svelte';

	export let accessToken;
	export let styleURL;
	export let withScaleControl;
	export let withZoomControl;

	export let isMapboxGLSupported = mapboxgl.supported()
</script>

<div class="mapwrap">
	{#if isMapboxGLSupported}
		<Map
			{accessToken}
			{colorScale}
			{getItemID}
			{getLink}
			{getLngLat}
			{items}
			{keys}
			{styleURL}
			{radiusMax}
			{radiusMin}
			{withScaleControl}
			{withZoomControl}
		/>
	{:else}
		<MapboxglUnsupported />
	{/if}
</div>

<style>
	.mapwrap {
		width: 100%;
		height: 100%;
	}
</style>
