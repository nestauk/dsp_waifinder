<script>
	import mapboxgl from 'mapbox-gl';

	import Map from 'app/components/Map/Map.svelte';
	import MapMarkers from 'app/components/Map/MapMarkers.svelte';
	import MapboxglUnsupported from 'app/components/Map/MapboxglUnsupported.svelte';
	import {
		MAPBOXGL_ACCESSTOKEN as accessToken,
		MAPBOXGL_STYLEURL as styleURL
	} from 'app/config';

	const withScaleControl = false;
	const withZoomControl = true;
	const isMapboxGLSupported = mapboxgl.supported();

	export let items = [];
	export let getItemID;
	export let getLink;
	export let getLngLat;
</script>

{#if isMapboxGLSupported}
<!--
	<Map
		{accessToken}
		{styleURL}
		{withScaleControl}
		{withZoomControl}
	/>
-->
	<MapMarkers
		{accessToken}
		{getLink}
		{getLngLat}
		{getItemID}
		{items}
		radiusMax={18}
		radiusMin={0.25}
		{styleURL}
		{withScaleControl}
		{withZoomControl}
	/>
{:else}
	<MapboxglUnsupported />
{/if}
