import * as _ from 'lamb';
import {derived, writable} from 'svelte/store';

import {_dataset} from 'app/stores/dataset';

export const _focusedOrgId = writable(null);
export const _focusedOrg = derived(
	[_dataset, _focusedOrgId],
	([dataset, focusedOrgId]) => dataset.orgsById[focusedOrgId]
);

export const _focusedMarkerId = writable(null);
export const _focusedMarker = derived(
	[_dataset, _focusedMarkerId],
	([dataset, focusedMarkerId]) => dataset.orgsById[focusedMarkerId]
);

export const clearFocusedMarker = () => {
	_focusedMarkerId.set(null);
}

export const _selectedMarkerId = writable(null);
export const _selectedMarker = derived(
	[_dataset, _selectedMarkerId],
	([dataset, selectedMarkerId]) => dataset.orgsById[selectedMarkerId]
);

export const clearSelectedMarker = () => {
	_selectedMarkerId.set(null);
}
